# RTT-only coredump variant — no flash storage, no crash_log.
# Coredump streams through RTT at crash time. Simpler but data is
# lost if no one is reading RTT when the crash happens.
#
# Build with: west build -b <board> -- -DOVERLAY_CONFIG=prj_rtt_only.conf
# Or via MCP: zephyr-build.build(app="crash_debug", board="...", extra_args="-DOVERLAY_CONFIG=prj_rtt_only.conf")

CONFIG_MAIN_STACK_SIZE=2048

# Coredump subsystem — logging backend (streams via RTT)
CONFIG_DEBUG_COREDUMP=y
CONFIG_DEBUG_COREDUMP_BACKEND_LOGGING=y
CONFIG_DEBUG_COREDUMP_MEMORY_DUMP_MIN=y

# RTT logging
CONFIG_LOG=y
CONFIG_USE_SEGGER_RTT=y
CONFIG_LOG_BACKEND_RTT=y
CONFIG_LOG_BACKEND_UART=n
CONFIG_RTT_CONSOLE=y
CONFIG_UART_CONSOLE=n
CONFIG_SEGGER_RTT_BUFFER_SIZE_UP=4096

# Debug-friendly
CONFIG_DEBUG_OPTIMIZATIONS=y
CONFIG_DEBUG_THREAD_INFO=y
CONFIG_EXTRA_EXCEPTION_INFO=y
